<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="styles/converter.css" type="text/css"/>
    <link rel="stylesheet" href="styles/convert-table.css" type="text/css"/>
    <link rel="stylesheet" href="styles/main-page.css" type="text/css"/>
    <script src="./scripts/helper-func.js"></script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="//d3js.org/d3-scale-chromatic.v0.3.min.js"></script>

    <title>ConvertApp</title>

</head>
<body class="main-page">
<section class="main-page__header">
    <h1 class="main-page__title">
        Прогноз збереження
    </h1>
    <input type="checkbox" id="percentage_checkbox" name="subscribe" value="newsletter" onchange="addToPercentage()">
    <p>
        Ставки
    </p>
</section>
<div class="converter">
    <section class="convert-table">
        <section class="convert-table__input-fields">

            <h1 class="convert-table__title">
                Збереження
            </h1>

            <section class="convert-table__input-section">
                <img src="./img/euro-currency-symbol.svg" alt="EUR" class="convert-table__currency-img">
                <input type="text" name="txt" class="convert-table__input-exchange" id="currency_1" value=0
                       onchange="addTo()">
            </section>

            <section class="convert-table__input-section">
                <img src="./img/dollar-currency-sign.svg" alt="EUR" class="convert-table__currency-img">
                <input type="text" name="txt" class="convert-table__input-exchange" id="currency_2" value=0
                       onchange="addTo()"></section>

            <section class="convert-table__input-section">
                <img src="./img/pound-symbol-variant.svg" alt="EUR" class="convert-table__currency-img">
                <input type="text" name="txt" class="convert-table__input-exchange" id="currency_3" value=0
                       onchange="addTo()">
            </section>

            <section class="convert-table__input-section">
                <img src="./img/dollar-currency-symbol.svg" alt="EUR" class="convert-table__currency-img">
                <input type="text" name="txt" class="convert-table__input-exchange" id="currency_4" value=0
                       onchange="addTo()"></section>
        </section>

        <section class="convert-table__converted-currency">
            <h1 class="convert-table__title">
                В моїй валюті
            </h1>

            <output class="convert-table__output-exchange" id="currency_converted_1"></output>
            <output class="convert-table__output-exchange" id="currency_converted_2"></output>
            <output class="convert-table__output-exchange" id="currency_converted_3"></output>
            <output class="convert-table__output-exchange" id="currency_converted_4"></output>

        </section>
        <section class="convert-table__input-percentage">
            <h1 class="convert-table__title">
                Ставки вкладів
            </h1>
            <input type="text" class="convert-table__input-percentage-form" id="input_percentage_1" value=0
                   onchange="addToPercentage()" disabled>
            <input type="text" class="convert-table__input-percentage-form" id="input_percentage_2" value=0
                   onchange="addToPercentage()" disabled>
            <input type="text" class="convert-table__input-percentage-form" id="input_percentage_3" value=0
                   onchange="addToPercentage()" disabled>
            <input type="text" class="convert-table__input-percentage-form" id="input_percentage_4" value=0
                   onchange="addToPercentage()" disabled>
        </section>
    </section>

    <section class="convert-table__graph-1">
        <svg class="convert-table__line-graph" width="400" height="200"></svg>
        <script src="scripts/graph-1.js"></script>

    </section>
    <section class="convert-table__graph-2">
        <svg class="convert-table__bar-chart" width="400" height="200"></svg>
        <script> redrowChart()</script>

    </section>
</div>

<script>
    var valueCurrency1;
    var valueCurrency2;
    var valueCurrency3;
    var valueCurrency4;

    var latestCurrency2;
    var latestCurrency3;
    var latestCurrency4;

    var value_percentage_1;
    var value_percentage_2;
    var value_percentage_3;
    var value_percentage_4;

    valueCurrency1 = valueCurrency2 = valueCurrency3 = valueCurrency4 = 0;
    value_percentage_1 = value_percentage_2 = value_percentage_3 = value_percentage_4 = 0;

    d3.tsv("./data/data-latest.tsv", function (data) {
        latestCurrency2 = +data[0].USD;
        latestCurrency3 = +data[0].GBP;
        latestCurrency4 = +data[0].CAD;
    });

    addTo();
    redrowChart()

</script>
</body>
</html>