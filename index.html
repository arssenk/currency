<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="styles/converter.css" type="text/css"/>
    <link rel="stylesheet" href="styles/convert-table.css" type="text/css"/>
    <link rel="stylesheet" href="styles/converter-header.css" type="text/css"/>
    <link rel="stylesheet" href="styles/currency-modal-window.css" type="text/css"/>
    <link rel="stylesheet" href="styles/main-container.css" type="text/css"/>
    <link rel="stylesheet" href="styles/line-chart.css" type="text/css"/>
    <link rel="stylesheet" href="styles/bar-chart.css" type="text/css"/>

    <script src="./scripts/helper-func.js"></script>
    <script src="./scripts/bar-chart.js"></script>
    <script src="./scripts/addings-func.js"></script>
    <script src="./scripts/api-support.js"></script>
    <script src="./scripts/converters.js"></script>
    <script src="./scripts/addToHtml.js"></script>
    <script src="./scripts/currency-modal-window.js"></script>


    <script src="./scripts/d3.min.js"></script>

    <title>ConvertApp</title>

</head>
<body>
<div class="main-container">
    <section class="converter-header">
        <div class="converter-header__container">
            <h1 class="converter-header__title">
                Прогноз збереження
            </h1>
            <div class="converter-header__container">
                <label for="percentage_checkbox"></label>
                <input type="checkbox" id="percentage_checkbox" name="subscribe" value="newsletter"
                       onchange="addToPercentage()">
                <p>
                    Ставки
                </p>
            </div>
        </div>
        <section class="converter-header__currency-choose">
            <p>Валюта</p>
            <label for="currency-choose-box-id"></label>
            <select name="currency-choose-box" id="currency-choose-box-id" onchange="updateStatus()">
                <option value="USD" selected>USD</option>
                <option value="EUR">EUR</option>
                <option value="GBP">GBP</option>
                <option value="CAD">CAD</option>
            </select>
        </section>
    </section>
    <div class="converter">
        <div class="converter__for-button">
            <section class="convert-table">
                <section class="convert-table__input-fields">

                    <h1 class="convert-table__title">
                        Збереження
                    </h1>

                    <section class="convert-table__input-section">
                        <img src="./img/dollar-currency-sign.svg" alt="USD" class="convert-table__currency-img">
                        <label for="currency_1"></label>
                        <input type="text" name="txt" class="convert-table__input-exchange"
                               id="currency_1" value=10000
                               onchange="addTo()">
                    </section>

                    <section class="convert-table__input-section">
                        <img src="./img/euro-currency-symbol.svg" alt="EUR" class="convert-table__currency-img">
                        <label for="currency_2"></label>
                        <input type="text" name="txt" class="convert-table__input-exchange"
                               id="currency_2" value=8000
                               onchange="addTo()">
                    </section>

                    <section class="convert-table__input-section">
                        <img src="./img/pound-symbol-variant.svg" alt="GBP" class="convert-table__currency-img">
                        <label for="currency_3"></label>
                        <input type="text" name="txt" class="convert-table__input-exchange"
                               id="currency_3" value=7000
                               onchange="addTo()">
                    </section>

                    <section class="convert-table__input-section">
                        <img src="./img/CAD.svg" alt="CAD" class="convert-table__currency-img">
                        <label for="currency_4"></label>
                        <input type="text" name="txt" class="convert-table__input-exchange"
                               id="currency_4" value=6000
                               onchange="addTo()"></section>
                </section>

                <section class="convert-table__converted-currency">
                    <h1 class="convert-table__title" id="output-current-currency">
                        В моїй валюті,
                    </h1>
                    <output class="convert-table__output-exchange" id="currency_converted_1"></output>
                    <output class="convert-table__output-exchange" id="currency_converted_2"></output>
                    <output class="convert-table__output-exchange" id="currency_converted_3"></output>
                    <output class="convert-table__output-exchange" id="currency_converted_4"></output>
                </section>

                <section class="convert-table__input-percentage">

                    <h1 class="convert-table__title">
                        Ставки вкладів, %
                    </h1>

                    <label for="input_percentage_1"></label>
                    <input type="text" class="convert-table__input-percentage-form" id="input_percentage_1" value=10
                           onchange="addToPercentage()" disabled>

                    <label for="input_percentage_2"></label>
                    <input type="text" class="convert-table__input-percentage-form" id="input_percentage_2" value=4
                           onchange="addToPercentage()" disabled>

                    <label for="input_percentage_3"></label>
                    <input type="text" class="convert-table__input-percentage-form" id="input_percentage_3" value=3
                           onchange="addToPercentage()" disabled>

                    <label for="input_percentage_4"></label>
                    <input type="text" class="convert-table__input-percentage-form" id="input_percentage_4" value=2
                           onchange="addToPercentage()" disabled>

                </section>

            </section>
            <button id="add-currency-btn" class="convert-table__add-currency-button">+ Валюта</button>
        </div>

        <div class="converter__container-for-graphs">

            <section class="line-chart">
                <p>Історія і прогноз курсів</p>
                <p>Перетягніть, щоб змінити прогноз</p>
                <svg class="line-chart__svg" width="300" height="200"></svg>
                <script src="scripts/line-chart.js"></script>
            </section>

            <section class="bar-chart">
            <!--<section class="convert-table__graph-2">-->
                <svg class="bar-chart__svg" width="300" height="200"></svg>
                <!--<svg class="convert-table__bar-chart" width="300" height="200"></svg>-->
                <section class=bar-chart__totals-container>
                    <output class="bar-chart__total" id="graph-2-total-1"></output>
                    <output class="bar-chart__total" id="graph-2-total-2"></output>
                    <!--<output class="convert-table__graph-2-total" id="graph-2-total-2"></output>-->
                <!--</section>-->
            </section>

        </div>
    </div>

    <!-- The Modal -->
    <section id="currency-modal" class="modal">

        <section class="modal__content">
            <div class="modal_container">

            </div>
            <span class="modal__close">&times;</span>
        </section>

    </section>
</div>
<script>

    let supportedCurrencies = ["USD", "EUR", "GBP", "CAD"];
    let supportedCurrenciesTXT = ["$", "€", "₤", "C$"];

    //Write new currency here when you want to add one
    let hiddenCurrencies = ["PLN", "SGD"];
    let hiddenCurrenciesTXT = ["zł", "S$"];

    const supportedCurrenciesAll = supportedCurrencies.concat(hiddenCurrencies);

    let interestedMonth = [3, 6, 9, 12];
    let quarterMonth = [];
    let currentDate = 0;

    const baseCurrency = "USD";
    let lastCurrencies = [];
    let currencyHistory = [];
    //    let currencyNew = [];
    let totalConverted = 0;

    const colorsForCurr = ["#0066cc", "#009933", "#ff9900", "#ff0000", "#b35900", "#862d59"];
    const colorsForPercentage = ["#66a3e0", "#66c285", "#ffc266", "#ff4d4d", "#ff9933", "#d98cb3"];

    let valueCurrencyArray = [];
    let valuePercentageArray = [];

    for (let i = 0; i < supportedCurrencies.length; i++) {
        valueCurrencyArray.push(0);
        valuePercentageArray.push(0);
    }

    let chooseBox = document.getElementById("currency-choose-box-id");
    let choosenBoxValue = chooseBox.options[chooseBox.selectedIndex].text;


    runAtStart();
    runAtStartModalWindow()

</script>

</body>
</html>